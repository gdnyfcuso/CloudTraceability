(function(t,i){if(t.ko===undefined||i.version<"3.0"){throw"This library is dependant on Knockout 3.0+";}String.prototype.endsWith=String.prototype.endsWith?String.prototype.endsWith:function(u){return this.indexOf(u,this.length-u.length)!==-1;};String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"");};var c={roots:[t],excludeConstructorNames:["Class"],useTextInputBinding:false};var r=null;var n=false;i.bindingConventions={init:function(u){n=false;i.utils.extend(c,u);},conventionBinders:{}};i.bindingConventions.ConventionBindingProvider=function(){this.orgBindingProvider=i.bindingProvider.instance||new i.bindingProvider();this.orgNodeHasBindings=this.orgBindingProvider.nodeHasBindings;this.attribute="data-name";this.virtualAttribute="ko name:";};i.bindingConventions.ConventionBindingProvider.prototype={getMemberName:function(w){var v=null;if(w.nodeType===1){v=w.getAttribute(this.attribute);}else{if(w.nodeType===8){var x=""+w.nodeValue||w.text;var u=x.indexOf(this.virtualAttribute);if(u>-1){v=x.substring(u+this.virtualAttribute.length).trim();}}}return v;},nodeHasBindings:function(u){return this.orgNodeHasBindings(u)||this.getMemberName(u)!==null;},getBindingAccessors:function(w,u){var v=this.getMemberName(w);var x=(v!=null&&w.nodeType===8)?null:this.orgBindingProvider.getBindingAccessors(w,u);if(v!=null){x=x||{};p(v,w,u,x);}return x;}};i.bindingProvider.instance=new i.bindingConventions.ConventionBindingProvider();var e=function(w,u){var y=w.split(".");for(var v=0;v<y.length;v++){var x=y[v];var z=u[x];if(v!=y.length-1){z=i.utils.unwrapObservable(z);}else{return{data:z,context:u,name:x};}u=z;}return u;};var p=function(E,B,u,v){var y=u[E]?u[E]:u.$data[E];var w=u.$data;if(y===undefined){var F=e(E,w);y=F.data;u={$data:F.context};E=F.name;}if(y===undefined){throw"Can't resolve member: "+E;}var z=function(){return y;};var I=i.utils.peekObservable(y);var H=typeof I;var C=null;for(var D in i.bindingConventions.conventionBinders){if(i.bindingConventions.conventionBinders[D].rules!==undefined){var x=i.bindingConventions.conventionBinders[D];var G=true;if(I==null&&x.deferredApplyIfDataNotSet===true){continue;}if(x.rules.length==1){G=x.rules[0](E,B,v,I,H,y,u);}else{b(x.rules,function(J){G=G&&J(E,B,v,I,H,y,u);});}if(G){C=x;break;}}}if(C===null&&I!=null){throw"No convention was found for "+E;}if(C!==null){C.apply(E,B,v,I,H,z,u);}else{if(I==null&&i.isObservable(y)){var A=y.subscribe(function(K){if(K!=null){A.dispose();var J={};p(E,B,u,J);i.applyBindingAccessorsToNode(B,J,u);}});}}};i.bindingConventions.conventionBinders.button={rules:[function(w,v,u,y,x){return v.tagName==="BUTTON"&&x==="function";}],apply:function(y,x,v,A,z,w,u){v.click=w;o(v,"enable","can"+g(y),u);}};i.bindingConventions.conventionBinders.options={rules:[function(w,v,u,x){return v.tagName==="SELECT"&&x.push;}],apply:function(z,y,w,F,E,x,u){w.options=x;var C=false;var v=null;var B=null;var D=null;q(z,function(H){var G=g(H);v="value";D="selected"+G;B=o(w,v,D,u);if(B){o(w,"enable","canChangeSelected"+G,u);C=true;return true;}});if(!C){var A=g(z);v="selectedOptions";D="selected"+A;B=o(w,v,D,u);o(w,"enable","canChangeSelected"+A,u);}a(w,v,B,D,u);}};i.bindingConventions.conventionBinders.input={rules:[function(v,u){return u.tagName==="INPUT"||u.tagName==="TEXTAREA";}],apply:function(z,y,w,B,A,x,u){var v=null;if(A==="boolean"){if(i.utils.ieVersion===undefined){y.setAttribute("type","checkbox");}v="checked";}else{v=r;}w[v]=x;a(w,v,x,z,u);o(w,"enable","canChange"+g(z),u);}};i.bindingConventions.conventionBinders.visible={rules:[function(w,v,u,y,x){return x==="boolean"&&v.tagName!=="INPUT";}],apply:function(x,w,u,z,y,v){if(w.nodeType===w.COMMENT_NODE){u["if"]=v;}else{u.visible=v;}}};i.bindingConventions.conventionBinders.text={rules:[function(w,v,u,y,x){return x!=="object"&&x!=="boolean"&&v.tagName!=="IMG"&&v.tagName!=="INPUT"&&v.tagName!=="TEXTAREA"&&!j(v);}],apply:function(x,w,u,z,y,v){u.text=v;},deferredApplyIfDataNotSet:true};i.bindingConventions.conventionBinders["with"]={rules:[function(w,v,u,y,x){return(x==="object"||y===undefined)&&(y==null||y.push===undefined)&&j(v);}],apply:function(x,w,u,z,y,v){u["with"]=v;}};i.bindingConventions.conventionBinders.foreach={rules:[function(w,v,u,x){return x&&x.push&&j(v);}],apply:function(x,w,u,z,y,v){u.foreach=v;}};i.bindingConventions.conventionBinders.template={rules:[function(w,v,u,y,x){return x==="object"&&!j(v);}],apply:function(x,w,u,z,y,v){u.template=function(){var A=i.unwrap(v());var C=A!=null&&A.push!==undefined;var D=A==null||(C&&A.length==0);var E=null;if(!D){E=s.instance.getView(C?A[0]:A);if(E==null){throw"View name could not be found";}}var B={name:E,"if":A};if(C){B.foreach=A;}else{B.data=A;}return B;};},deferredApplyIfDataNotSet:true};i.bindingConventions.conventionBinders.image={rules:[function(w,v,u,y,x){return x==="string"&&v.tagName==="IMG";}],apply:function(x,w,u,z,y,v){u.attr=function(){return{src:v()};};},deferredApplyIfDataNotSet:true};var o=function(w,v,x,u){if(u.$data[x]!==undefined){return(w[v]=function(){return u.$data[x];});}};var g=function(u){return u.substring(0,1).toUpperCase()+u.substring(1);};var l=[{end:"ies",use:"y"},"es","s"];var q=function(v,u){var w=null;b(l,function(y){var x=y.use;y=y.end||y;if(v.endsWith(y)){w=v.substring(0,v.length-y.length);w=w+(x||"");if(u){return !u(w);}return true;}return true;});return w;};var b=function(v,u){for(var w=0;w<v.length;w++){var x=u(v[w]);if(x===false){break;}}};var j=function(u){if(u.__nodeHasContent!==undefined){return u.__nodeHasContent;}return u.__nodeHasContent=(u.nodeType===u.COMMENT_NODE&&(u.nextSibling.nodeType===u.ELEMENT_NODE||h(u)))||(u.nodeType===u.ELEMENT_NODE&&u.innerHTML.trim()!=="");};var h=function(u){if(u.nextSibling.nodeType===u.COMMENT_NODE&&u.nextSibling.textContent.indexOf("/ko")>-1){return false;}if(u.nextSibling.nodeType===u.nextSibling.ELEMENT_NODE||u.nextSibling.textContent.trim()!==""){return true;}return h(u.nextSibling);};var a=function(x,w,u,y,v){if(!i.isObservable(u())){f(x)[w]=function(z){v.$data[y]=z;};}};var f=function(u){var v=null;if(u._ko_property_writers===undefined){v={};u._ko_property_writers=function(){return v;};}return v;};var m=function(){var u=[];var v=function(y){if(y==null||y.__fcnChecked||y===t){return;}y.__fcnChecked=true;if(y.__fcnChecked===undefined){return;}u.push(y);for(var w in y){var x=y[w];if(x!==undefined&&w.endsWith("Model")&&typeof x==="function"){x.__fcnName=w;}v(x);}};b(c.roots,function(w){v(w);});b(u,function(w){delete w.__fcnChecked;});};var d=function(C,z){var u=z?C:C.constructor;if(u.__fcnName!==undefined){return u.__fcnName;}var x=/function (.{1,})\(/;var D=(x).exec(u.toString());var A=(D&&D.length>1)?D[1]:undefined;var y;var v=false;b(c.excludeConstructorNames,function(E){if(E===A){v=true;return false;}return true;});if(A===undefined||v){var w=[];var B=function(H){if(H==null||H===t.document||H===t.html||H===t.history||H===t.frameElement||typeof H==="function"||H.__fcnChecked===true||(H.location&&H.location!=t.location)){return;}try{H.__fcnChecked=true;}catch(E){return;}if(H.__fcnChecked===undefined){return;}w.push(H);for(y in H){var G=H[y];if(G===u){return y;}var F=B(G);if(F!==undefined){return F;}}};b(c.roots,function(E){A=B(E);if(A!==undefined){return false;}return true;});for(y in w){delete w[y].__fcnChecked;}}u.__fcnName=A;return A;};var s=function(){};s.prototype={init:function(){m();},getView:function(x){var u=d(x);var v="Model";var w=null;if(u!=null&&u.endsWith(v)){w=u.substring(0,u.length-v.length);if(!w.endsWith("View")){w=w+"View";}}return w;}};s.instance=new s();i.bindingConventions.viewLocator=s;var k=i.applyBindings;i.applyBindings=function(v,u){if(n===false&&s.instance.init){s.instance.init();n=true;}r=c.useTextInputBinding?"textInput":"value";k(v,u);};i.bindingConventions.utils={findConstructorName:d,singularize:q,getPascalCased:g,nodeHasContent:j,setBinding:o};})(window,ko);